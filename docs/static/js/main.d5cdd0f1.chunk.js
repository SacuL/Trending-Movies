(this["webpackJsonpTrending-Movies"]=this["webpackJsonpTrending-Movies"]||[]).push([[0],{15:function(e,t,n){e.exports=n(47)},20:function(e,t,n){},21:function(e,t,n){},22:function(e,t,n){},23:function(e,t,n){},24:function(e,t,n){},43:function(e,t,n){},44:function(e,t,n){},45:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(12),i=n.n(c),o=(n(20),n(21),function(){return r.a.createElement("header",null,r.a.createElement("h1",null,"Pin Movies"))}),l=n(8),s=n(13),u=n(1),m=n(2),v=n(4),h=n(3),p=n(5),g=(n(22),n(23),n(24),function(e){var t=e.genres,n=e.genre,a=e.onGenreChange;return r.a.createElement("div",{className:"selection"},r.a.createElement("label",null,"Genre"),r.a.createElement("select",{value:n,onChange:a},t.map((function(e){return r.a.createElement("option",{key:e.id,value:e.name},e.name)}))))}),f=n(14),d=n.n(f),b=(n(42),n(43),function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(v.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).onChange=function(e){n.props.onChange({type:n.props.data.label,value:e})},n}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props.data,t=e.min,n=e.max,a=e.step,c=e.value,i=e.label;return r.a.createElement("div",{className:"slider"},r.a.createElement("label",null,i),r.a.createElement(d.a,{minValue:t,maxValue:n,step:a,onChange:this.onChange,value:c}))}}]),t}(r.a.Component)),E=(n(44),function(e){var t=e.onClick;return r.a.createElement("div",{className:"search-button"},r.a.createElement("button",{onClick:t},"Search"))}),y=function(e){function t(){return Object(u.a)(this,t),Object(v.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch(this.props.url).then((function(e){return e.json()})).then((function(t){return e.props.setGenres(t.genres)})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this.props,t=e.genre,n=e.genres,a=e.onGenreChange,c=e.onChange,i=e.year,o=e.rating,l=e.runtime;return r.a.createElement("section",{className:"navigation"},r.a.createElement(g,{genre:t,genres:n,onGenreChange:a}),r.a.createElement(b,{data:i,onChange:c}),r.a.createElement(b,{data:o,onChange:c}),r.a.createElement(b,{data:l,onChange:c}),r.a.createElement(E,{onClick:this.props.onSearchButtonClick}))}}]),t}(r.a.Component),C=(n(45),n(46),function(e){var t=e.movie,n=t.title,a=t.poster_path,c=t.release_date,i=t.vote_average,o="https://image.tmdb.org/t/p/w342/".concat(a),l=c.substring(0,4);return r.a.createElement("li",{className:"movie-item"},r.a.createElement("img",{src:o,alt:n}),r.a.createElement("div",{className:"movie-description"},r.a.createElement("h2",null,n),r.a.createElement("section",{className:"movie-details"},r.a.createElement("div",{className:"movie-year"},r.a.createElement("span",{className:"title"},"Year"),r.a.createElement("span",null,l)),r.a.createElement("div",{className:"movie-rating"},r.a.createElement("span",{className:"title"},"Rating"),r.a.createElement("span",null,i)))))}),_=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(v.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={movies:[]},n.storeMovies=function(e){var t=e.results.map((function(e){return{vote_count:e.vote_count,id:e.id,genre_ids:e.genre_ids,poster_path:e.poster_path,title:e.title,vote_average:e.vote_average,release_date:e.release_date}}));n.setState({movies:t})},n.fetchMovies=function(e){fetch(e).then((function(e){return e.json()})).then((function(e){return n.storeMovies(e)})).catch((function(e){return console.log(e)}))},n}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.fetchMovies(this.props.url)}},{key:"componentWillReceiveProps",value:function(e){this.props.url!==e.url&&this.fetchMovies(e.url)}},{key:"render",value:function(){return r.a.createElement("section",null,r.a.createElement("ul",{className:"movies"},this.state.movies.map((function(e){return r.a.createElement(C,{key:e.id,movie:e})}))))}}]),t}(r.a.Component),j=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(v.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={moviesUrl:"https://api.themoviedb.org/3/discover/movie?api_key=".concat("d5c3b9d3a553eb9bf44db91a4579c006","&language=en-US&sort_by=popularity.desc&include_adult=false&include_video=false&page=1"),url:"https://api.themoviedb.org/3/genre/movie/list?api_key=".concat("d5c3b9d3a553eb9bf44db91a4579c006","&language=en-US"),genre:"Action",genres:[],year:{label:"year",min:1990,max:2020,step:1,value:{min:2015,max:2020}},rating:{label:"rating",min:0,max:10,step:1,value:{min:8,max:10}},runtime:{label:"runtime",min:0,max:300,step:15,value:{min:60,max:120}}},n.setGenres=function(e){n.setState({genres:e})},n.onGenreChange=function(e){n.setState({genre:e.target.value})},n.onChange=function(e){n.setState(Object(l.a)({},e.type,Object(s.a)({},n.state[e.type],{value:e.value})))},n.generateUrl=function(){var e=n.state,t=e.genres,a=e.year,r=e.rating,c=e.runtime,i=t.find((function(e){return e.name===n.state.genre})).id,o="https://api.themoviedb.org/3/discover/movie?"+"api_key=".concat("d5c3b9d3a553eb9bf44db91a4579c006","&")+"language=en-US&sort_by=popularity.desc&"+"with_genres=".concat(i,"&")+"primary_release_date.gte=".concat(a.value.min,"-01-01&")+"primary_release_date.lte=".concat(a.value.max,"-12-31&")+"vote_average.gte=".concat(r.value.min,"&")+"vote_average.lte=".concat(r.value.max,"&")+"with_runtime.gte=".concat(c.value.min,"&")+"with_runtime.lte=".concat(c.value.max,"&")+"page=1&";n.setState({moviesUrl:o})},n.onSearchButtonClick=function(){n.generateUrl()},n}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("section",{className:"main"},r.a.createElement(y,Object.assign({onChange:this.onChange,onGenreChange:this.onGenreChange,setGenres:this.setGenres,onSearchButtonClick:this.onSearchButtonClick},this.state)),r.a.createElement(_,{url:this.state.moviesUrl}))}}]),t}(r.a.Component),O=function(){return r.a.createElement("div",null,r.a.createElement(o,null),r.a.createElement(j,null))};i.a.render(r.a.createElement(O,null),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.d5cdd0f1.chunk.js.map